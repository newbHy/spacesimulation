#include "space/celestialbody.h"



////////////////////////////////////////////////////////////////////////////////
CelestialBody::CelestialBody()
  : m_parent(nullptr),
    m_orbit(this)
{
    m_mass     = 0.0;
    m_radius   = 0.0;
    m_name     = "Unnamed object";
    m_color    = sf::Color::White;
}


////////////////////////////////////////////////////////////////////////////////
CelestialBody::CelestialBody(sfSpace::PRECISE mass, sfSpace::PRECISE radius,
                             sf::String name, sf::Color color)
  : CelestialBody()
{
    setMass(mass);
    setRadius(radius);
    setName(name);
    setColor(color);
}


////////////////////////////////////////////////////////////////////////////////
CelestialBody::~CelestialBody()
{
    // ...
}


////////////////////////////////////////////////////////////////////////////////
Orbit* CelestialBody::getOrbit()
{
    return &m_orbit;
}


////////////////////////////////////////////////////////////////////////////////
void CelestialBody::setMass(sfSpace::PRECISE mass)
{
    m_mass = mass;
}


////////////////////////////////////////////////////////////////////////////////
sfSpace::PRECISE CelestialBody::getMass() const
{
    return m_mass;
}


////////////////////////////////////////////////////////////////////////////////
void CelestialBody::setRadius(sfSpace::PRECISE radius)
{
    m_radius = radius;
}


////////////////////////////////////////////////////////////////////////////////
sfSpace::PRECISE CelestialBody::getRadius() const
{
    return m_radius;
}


////////////////////////////////////////////////////////////////////////////////
void CelestialBody::setParent(CelestialBody* parent)
{
    m_parent = parent;

    if (m_orbit.getOrbitType() == Orbit::OrbitType::barrycenter)
        m_orbit.setOrbitType(Orbit::OrbitType::fixed);
}


////////////////////////////////////////////////////////////////////////////////
CelestialBody* CelestialBody::getParent() const
{
    return m_parent;
}


////////////////////////////////////////////////////////////////////////////////
void CelestialBody::setName(sf::String name)
{
    m_name = name;
}


////////////////////////////////////////////////////////////////////////////////
sf::String CelestialBody::getName() const
{
    return m_name;
}


////////////////////////////////////////////////////////////////////////////////
void CelestialBody::setColor(sf::Color color)
{
    m_color = color;
}


////////////////////////////////////////////////////////////////////////////////
sf::Color CelestialBody::getColor() const
{
    return m_color;
}
